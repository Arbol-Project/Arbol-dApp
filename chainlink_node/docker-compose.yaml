version: "3.8"

services:
  ipfs-daemon:
    network_mode: bridge
    container_name: ipfs-daemon
    build: ipfs
    ports:
      - 4001:4001
      - 5001:5001
    volumes:
      - /export
      - /data/ipfs

  arbol-adapter:
    network_mode: bridge
    container_name: arbol-adapter
    depends_on:
      - ipfs-daemon
    build: adapter
    ports:
      - 8000:8000

volumes:
  export:
  data:
